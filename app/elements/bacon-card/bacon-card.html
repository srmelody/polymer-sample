<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-shadow/paper-shadow.html">

<polymer-element name="bacon-card" attributes="rank suit something">
  <template>
    <link rel="stylesheet" href="bacon-card.css">
    <link rel="stylesheet" href="/styles/shared.css">

    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css">
    <paper-shadow>
        <div class="card">
          <div class="row">
           <div class="col-xs-12 header">
              <bacon-suit suit="{{suit}}"></bacon-suit>
              <span>{{rank}}</span>
            </div>
          </div>
          <div class="row">
            <template if="{{faceCard}}">
              <div>I am a face card</div>
            </template>
            
            <template if="{{ rank < 4}}">
                <bacon-single-col-pips rank="{{rank}}" suit="{{suit}}"></bacon-single-col-pips>
            </template> 
            
            <template if="{{ rank >= 4}}">

              <template if="{{even}}">
       
                <bacon-double-col-pips rank="{{rank}}" suit="{{suit}}"></bacon-double-col-pips>
              </template>  
            
              <template if="{{!even}}">
                <template if="{{ rank == 5}}">
                  <bacon-card-five suit="{{suit}}"></bacon-card-five>
                </template>
                <template if="{{ rank == 7}}">
                  <bacon-card-seven suit="{{suit}}"></bacon-card-seven>
                </template>
                <template if="{{ rank == 9}}">
                  <bacon-card-nine suit="{{suit}}"></bacon-card-nine>
                </template>
              </template>
            </template>
            </div>
        
         
          <div class="row">
            <div class="col-xs-12 col-xs-offset-6 footer">
             
              <span class="upsidedowntext">
                <bacon-suit suit="{{suit}}"></bacon-suit>
              </span> 
              <span class="upsidedowntext rank-text">{{rank}}</span>
      
            </div>
          </div> 
        </div>
      </paper-shadow>
  </template>
   <script>
    (function () {

      Polymer({
        computeRanks: function() {
          var numVal = parseInt(this.rank);
          if (isNaN(numVal)) {
             return [1];  

            
          }
          else {
            var ranks = [];
            for ( n = 0; n < numVal; n++ ) {
              ranks[n] = n
            }
            return ranks;
          }
         
        },
        ready: function() {
          this.repeat = 10;
          this.cards = [
           
          ];
          this.faceCard = isNaN(parseInt(this.rank));

          this.ranks = this.computeRanks();
          this.even = this.ranks.length %2 == 0;
        }
      });

    })();
  </script>
 </polymer-element>
